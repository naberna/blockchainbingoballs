var e=require("@deficonnect/utils"),t=require("@deficonnect/web3-provider"),n=require("@deficonnect/core"),r=require("@deficonnect/iso-crypto"),i=require("@deficonnect/socket-transport"),o=require("@deficonnect/browser-utils"),s=require("qrcode"),c=require("@cosmjs/amino"),u=require("@cosmjs/encoding"),l=require("cosmjs-types/cosmos/tx/v1beta1/tx"),a=require("@cosmjs/proto-signing"),h=require("@cosmjs/stargate"),d=require("@web3-react/injected-connector");function f(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,t}var v=/*#__PURE__*/f(t),g=/*#__PURE__*/f(n),m=/*#__PURE__*/p(r),y=/*#__PURE__*/f(i),w=/*#__PURE__*/f(s);function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,I(e,t)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function L(e,t,n){return L=P()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&I(i,n.prototype),i},L.apply(null,arguments)}function S(e){var t="function"==typeof Map?new Map:void 0;return S=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return L(e,arguments,_(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),I(n,e)},S(e)}var k,F="object"==typeof Reflect?Reflect:null,O=F&&"function"==typeof F.apply?F.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};k=F&&"function"==typeof F.ownKeys?F.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var j=Number.isNaN||function(e){return e!=e};function R(){R.init.call(this)}var T=R;R.EventEmitter=R,R.prototype._events=void 0,R.prototype._eventsCount=0,R.prototype._maxListeners=void 0;var D,A=10;function U(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function B(e){return void 0===e._maxListeners?R.defaultMaxListeners:e._maxListeners}function N(e,t,n,r){var i,o,s;if(U(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=B(e))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,console&&console.warn&&console.warn(c)}return e}function M(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function z(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=M.bind(r);return i.listener=n,r.wrapFn=i,i}function q(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):V(i,i.length)}function W(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function V(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function G(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)})}}Object.defineProperty(R,"defaultMaxListeners",{enumerable:!0,get:function(){return A},set:function(e){if("number"!=typeof e||e<0||j(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");A=e}}),R.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},R.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||j(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},R.prototype.getMaxListeners=function(){return B(this)},R.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)O(c,this,t);else{var u=c.length,l=V(c,u);for(n=0;n<u;++n)O(l[n],this,t)}return!0},R.prototype.on=R.prototype.addListener=function(e,t){return N(this,e,t,!1)},R.prototype.prependListener=function(e,t){return N(this,e,t,!0)},R.prototype.once=function(e,t){return U(t),this.on(e,z(this,e,t)),this},R.prototype.prependOnceListener=function(e,t){return U(t),this.prependListener(e,z(this,e,t)),this},R.prototype.off=R.prototype.removeListener=function(e,t){var n,r,i,o,s;if(U(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},R.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},R.prototype.listeners=function(e){return q(this,e,!0)},R.prototype.rawListeners=function(e){return q(this,e,!1)},R.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):W.call(e,t)},R.prototype.listenerCount=W,R.prototype.eventNames=function(){return this._eventsCount>0?k(this._events):[]},T.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}G(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&G(e,"error",t,{once:!0})}(e,i)})},function(e){e.Update="Web3ReactUpdate",e.Error="Web3ReactError",e.Deactivate="Web3ReactDeactivate"}(D||(D={}));var H=
/*#__PURE__*/
function(e){var t,n;function r(t){var n,r=(void 0===t?{}:t).supportedChainIds;return(n=e.call(this)||this).supportedChainIds=r,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.emitUpdate=function(e){"production"!==process.env.NODE_ENV&&console.log("Emitting '"+D.Update+"' with payload",e),this.emit(D.Update,e)},i.emitError=function(e){"production"!==process.env.NODE_ENV&&console.log("Emitting '"+D.Error+"' with payload",e),this.emit(D.Error,e)},i.emitDeactivate=function(){"production"!==process.env.NODE_ENV&&console.log("Emitting '"+D.Deactivate+"'"),this.emit(D.Deactivate)},r}(T.EventEmitter),Z=function(e){return e&&0!==e.length?e.split("?")[0]:e},Q=function(t,n){if(!t||0===t.length)return t;var r=t.split("?"),i=e.appendToQueryString("?"+e.getQueryString(r[1]||""),n);return r[0]+"?"+i},J=function(t,n){var r=e.parseWalletConnectUri(t),i=encodeURIComponent(Z(decodeURIComponent(r.bridge)));return n+":"+r.handshakeTopic+"@"+r.version+"?bridge="+i+"&key="+r.key},K=function(e){return J(e,"CWE")},X=/*#__PURE__*/function(){function t(t){var n;this.connector=void 0,this.transport=void 0,this.sessionStorage=void 0;var r=t.connectorOpts,i=t.sessionStorage,o=t.exists;this.sessionStorage=i;var s,c,u=(null==r?void 0:r.session)||(null==i?void 0:i.getSession()),l=null!=(n=null==r?void 0:r.bridge)?n:null==u?void 0:u.bridge;if(!l&&null!=r&&r.uri&&(l=e.parseWalletConnectUri(r.uri).bridge),o?s=o.transport:l&&(s=new y.default({protocol:"wc",version:3,url:l})),!s)throw new Error("bridge can not be null");if(o?c=o.connector:r&&(c=new g.default({cryptoLib:m,connectorOpts:r,sessionStorage:i,transport:s})),!c)throw new Error("connectorOpts can not be null");this.connector=c,this.transport=s,this.transport.subscribe(c.clientId)}return t.prototype.clearSessionStorage=function(){var e;this.sessionStorage?this.sessionStorage.removeSession():null==(e=this.connector._sessionStorage)||e.removeSession()},t}(),Y=["svg","g","path","mask","defs","stop","linearGradient","filter","feFlood","feOffset","feGaussianBlur","feColorMatrix","feBlend"],$=["floodOpacity"],ee={onClick:"click"},te=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg",e);return"svg"===e&&t.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),t};function ne(e,t){if(void 0===t&&(t={}),"function"==typeof e)return e(t);null===t&&(t={});var n=Y.includes(e)?te(e):document.createElement(e);if(Object.keys(t).forEach(function(e){e in ee?n.addEventListener(ee[e],t[e]):$.includes(e)?n.setAttribute(e.replace(/([A-Z])/g,"-$1").toLowerCase(),t[e]):n.setAttribute(e,t[e])}),"style"in t){var r=t.style;Object.keys(r).forEach(function(e){var t=r[e];if("number"==typeof t)n.style[e]=""+t;else{if("string"!=typeof t)throw new Error('Expected "number" or "string" but received "'+typeof t+'"');n.style[e]=t}})}return[].slice.call(arguments,2).forEach(function(e){if("object"==typeof e)n.appendChild(e);else{if("string"!=typeof e)throw new Error('Expected "object" or "string" but received "'+typeof e+'"');n.appendChild(document.createTextNode(e))}}),n}function re(e){return ne("svg",C({width:60,height:60,viewBox:"5 5 66 66",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ne("g",{filter:"url(#prefix__filter0_d)"},ne("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42.054 20.5c4.016 0 6.023 0 8.185.683a8.495 8.495 0 015.078 5.078c.683 2.161.683 4.17.683 8.185v12.108c0 4.016 0 6.023-.683 8.185a8.494 8.494 0 01-5.078 5.077c-2.162.684-4.169.684-8.185.684H29.946c-4.016 0-6.024 0-8.185-.684a8.494 8.494 0 01-5.078-5.077C16 52.577 16 50.57 16 46.554V34.446c0-4.016 0-6.024.683-8.185a8.495 8.495 0 015.078-5.078c2.161-.683 4.169-.683 8.185-.683h12.108z",fill:"#fff"}),ne("mask",{id:"prefix__a",maskUnits:"userSpaceOnUse",x:16,y:20,width:40,height:41},ne("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42.054 20.5c4.016 0 6.023 0 8.185.683a8.495 8.495 0 015.078 5.078c.683 2.161.683 4.17.683 8.185v12.108c0 4.016 0 6.023-.683 8.185a8.494 8.494 0 01-5.078 5.077c-2.162.684-4.169.684-8.185.684H29.946c-4.016 0-6.024 0-8.185-.684a8.494 8.494 0 01-5.078-5.077C16 52.577 16 50.57 16 46.554V34.446c0-4.016 0-6.024.683-8.185a8.495 8.495 0 015.078-5.078c2.161-.683 4.169-.683 8.185-.683h12.108z",fill:"#fff"})),ne("g",{mask:"url(#prefix__a)",fillRule:"evenodd",clipRule:"evenodd"},ne("path",{d:"M35.98 24.485l-14.042 8.01v16.023L35.98 56.53l14.043-8.012V32.496L35.98 24.485z",fill:"#FEFEFE"}),ne("path",{d:"M35.98 24.485l-14.042 8.01v16.023L35.98 56.53l14.043-8.012V32.496L35.98 24.485zm-5.544 6.927h11.051l1.333 5.567H29.154l1.282-5.567zm3.184 9.517l-1.205-3.11h7.156l-1.18 3.11.343 3.474-2.754.012h-2.728l.368-3.486zm3.515 7.16v-1.103l2.474-2.344v-3.7l3.236-2.081 3.693 2.746-5.026 8.652H39.52l-2.385-2.17zm-11.711-6.482l3.704-2.721 3.274 2.056v3.7l2.474 2.344v1.103l-2.385 2.195h-2.018l-5.05-8.677z",fill:"#002D72"}),ne("path",{d:"M41.512 50.259H39.52l-2.385-2.17v-1.103l2.474-2.345v-3.7l3.236-2.08 3.693 2.746-5.026 8.652zM35.98 24.485v6.927h5.507l1.333 5.567h-6.84v.84h3.591l-1.18 3.11.343 3.474-2.754.012V56.53l14.043-8.012V32.496L35.98 24.485z",fill:"url(#prefix__paint0_linear)",style:{mixBlendMode:"multiply"}}),ne("path",{d:"M34.876 48.09l-2.385 2.194h-2.018l-5.05-8.677 3.705-2.721 3.274 2.056v3.7l2.474 2.344v1.103zm-1.624-3.675l.368-3.486-1.205-3.11h3.565v-.84h-6.826l1.282-5.567h5.544v-6.927l-14.042 8.01v16.023L35.98 56.53V44.415h-2.728z",fill:"url(#prefix__paint1_linear)",style:{mixBlendMode:"multiply"}}))),ne("defs",null,ne("linearGradient",{id:"prefix__paint0_linear",x1:48.526,y1:53.073,x2:48.526,y2:27.863,gradientUnits:"userSpaceOnUse"},ne("stop",{stopColor:"#002D72"}),ne("stop",{offset:1,stopColor:"#002D72",stopOpacity:.01})),ne("linearGradient",{id:"prefix__paint1_linear",x1:34.483,y1:53.073,x2:34.483,y2:27.863,gradientUnits:"userSpaceOnUse"},ne("stop",{stopColor:"#002D72",stopOpacity:.01}),ne("stop",{offset:1,stopColor:"#002D72"})),ne("filter",{id:"prefix__filter0_d",x:-4,y:.5,width:80,height:80,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},ne("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),ne("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),ne("feOffset",null),ne("feGaussianBlur",{stdDeviation:10}),ne("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),ne("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),ne("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))}function ie(e){return ne("svg",C({width:20,height:21,viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ne("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.586 2.167H2.361a.694.694 0 00-.694.694v6.606h1.389V3.556h5.53v-1.39zm2.828 1.389v-1.39h6.225c.384 0 .694.312.694.695v6.606h-1.388V3.556h-5.53zm0 13.889h5.53v-5.223h1.39v5.917c0 .383-.311.694-.695.694h-6.225v-1.388zm-8.358-5.223v5.223h5.53v1.388H2.361a.695.695 0 01-.694-.694v-5.917h1.389z",fill:"#0B1426"}),ne("path",{fill:"#0B1426",d:"M5.833 9.667h8.333v1.667H5.833z"}))}function oe(){return ne("svg",{xmlns:"http://www.w3.org/2000/svg",width:"27",height:"32",fill:"none",viewBox:"0 0 27 32"},ne("path",{fill:"#828FA1",fillRule:"evenodd",d:"M0 8.56v15.237l13.024 7.62 13.021-7.62V8.56L13.024.941 0 8.561zm1.146 14.57V9.23L13.024 2.28 24.903 9.23V23.13l-11.879 6.95-11.878-6.95z",clipRule:"evenodd"}),ne("path",{fill:"#828FA1",fillRule:"evenodd",d:"M18.128 7.52H7.894l-1.186 5.287h12.653L18.128 7.52zM9.71 20.083V16.57l-3.032-1.953-3.43 2.584 4.676 8.24h1.868L12 23.357V22.31L9.71 20.083z",clipRule:"evenodd"}),ne("path",{fill:"#828FA1",fillRule:"evenodd",d:"M16.348 13.604H9.72l1.116 2.954-.34 3.31h2.526l2.55-.012-.318-3.298 1.093-2.954z",clipRule:"evenodd"}),ne("path",{fill:"#828FA1",fillRule:"evenodd",d:"M19.379 14.593l-2.996 1.977v3.513l-2.29 2.227v1.047l2.208 2.06h1.844l4.653-8.216-3.419-2.608z",clipRule:"evenodd"}))}function se(){return ne("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},ne("path",{fill:"#1199FA",fillRule:"evenodd",d:"M12 1.75C6.34 1.75 1.75 6.34 1.75 12S6.34 22.25 12 22.25 22.25 17.66 22.25 12 17.66 1.75 12 1.75zM.25 12C.25 5.51 5.51.25 12 .25S23.75 5.51 23.75 12 18.49 23.75 12 23.75.25 18.49.25 12z",clipRule:"evenodd"}),ne("path",{fill:"#1199FA",fillRule:"evenodd",d:"M12.434.607a.75.75 0 011.059-.073C16.748 3.37 18.75 7.474 18.75 12c0 4.622-1.998 8.732-5.268 11.475a.75.75 0 11-.964-1.15c2.93-2.457 4.732-6.147 4.732-10.325 0-4.073-1.799-7.77-4.743-10.334a.75.75 0 01-.072-1.059zM11.575.618a.75.75 0 01-.093 1.057C8.552 4.132 6.75 7.822 6.75 12c0 4.073 1.798 7.77 4.743 10.334a.75.75 0 01-.986 1.132C7.252 20.63 5.25 16.526 5.25 12c0-4.622 1.998-8.732 5.268-11.475a.75.75 0 011.057.093z",clipRule:"evenodd"}),ne("path",{fill:"#1199FA",fillRule:"evenodd",d:"M12 .25a.75.75 0 01.75.75v22a.75.75 0 01-1.5 0V1A.75.75 0 0112 .25z",clipRule:"evenodd"}),ne("path",{fill:"#1199FA",fillRule:"evenodd",d:"M1.25 8A.75.75 0 012 7.25h20a.75.75 0 010 1.5H2A.75.75 0 011.25 8zM1.25 16a.75.75 0 01.75-.75h20a.75.75 0 010 1.5H2a.75.75 0 01-.75-.75z",clipRule:"evenodd"}))}function ce(){return ne("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"none",viewBox:"0 0 22 22"},ne("path",{stroke:"#1199FA",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M10.676 4.651l2.191-2.282c1.826-1.825 4.838-1.825 6.664 0 1.826 1.826 1.826 4.838 0 6.755l-4.2 4.2c-1.825 1.825-4.837 1.825-6.663 0-.274-.274-.822-1.005-1.095-1.37"}),ne("path",{stroke:"#1199FA",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M10.676 4.651l2.191-2.282c1.826-1.825 4.838-1.825 6.664 0 1.826 1.826 1.826 4.838 0 6.755l-4.2 4.2c-1.825 1.825-4.837 1.825-6.663 0-.274-.274-.822-1.005-1.095-1.37"}),ne("path",{stroke:"#1199FA",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M11.224 17.431l-2.191 2.282c-1.826 1.826-4.838 1.826-6.664 0-1.825-1.825-1.825-4.838 0-6.755l4.2-4.199c1.825-1.826 4.837-1.826 6.663 0 .274.274.822 1.004 1.096 1.37"}))}function ue(){return ne("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},ne("path",{fill:"#1199FA",fillRule:"evenodd",d:"M5.778 10.023c-.548 0-1.028.466-1.028 1.068v9.09c0 .603.48 1.069 1.028 1.069h12.444c.548 0 1.028-.466 1.028-1.068V11.09c0-.602-.48-1.068-1.028-1.068H5.778zM3.25 11.09c0-1.398 1.12-2.568 2.528-2.568h12.444c1.408 0 2.528 1.17 2.528 2.568v9.09c0 1.399-1.12 2.569-2.528 2.569H5.778c-1.408 0-2.528-1.17-2.528-2.568V11.09zM12 2.75c-2.059 0-3.694 1.648-3.694 3.795a.75.75 0 11-1.5 0C6.806 3.602 9.08 1.25 12 1.25s5.195 2.352 5.195 5.295a.75.75 0 01-1.5 0c0-2.147-1.636-3.795-3.695-3.795z",clipRule:"evenodd"}),ne("path",{fill:"#1199FA",fillRule:"evenodd",d:"M16.444 5.795a.75.75 0 01.75.75V8.91a.75.75 0 01-1.5 0V6.545a.75.75 0 01.75-.75zM7.556 5.795a.75.75 0 01.75.75v2.637a.75.75 0 11-1.5 0V6.545a.75.75 0 01.75-.75z",clipRule:"evenodd"}))}var le={overlay:{background:"rgba(12, 12, 15, 0.7)",display:"flex",position:"fixed",zIndex:2,left:0,top:0,width:"100%",height:"100%",overflow:"auto",justifyContent:"center",alignItems:"center",userSelect:"none"},container:{display:"flex",flexDirection:"row",padding:"80px",background:"linear-gradient(180deg, #021E3F 0%, #002A67 95.76%)",borderRadius:"16px",maxWidth:"1100px",overflow:"hidden"},containerLeft:{display:"flex",flexDirection:"column",marginRight:"40px",flexShrink:1,minWidth:"450px"},header:{display:"flex",alignItems:"center",flexDirection:"row"},headerLogo:{},headerText:{color:"#828FA1",margin:"10px"},headerTextDivide:{backgroundColor:"#828FA1",width:"1px",height:"32px"},title:{color:"#FFFFFF",fontWeight:600,fontSize:"28px",marginTop:"24px",marginBottom:"16px",maxWidth:"500px"},feature:{display:"flex",alignItems:"center",flexDirection:"row",marginTop:"24px"},featureIcon:{},featureText:{marginLeft:"16px",color:"#FFFFFF",fontWeight:600,fontSize:"16px"},installButton:{marginTop:"40px",height:"48px",background:"#1199FA",borderRadius:"8px",padding:"0px 36px",border:"0px solid white",fontWeight:600,fontSize:"18px",color:"#FFFFFF",alignSelf:"flex-start",cursor:"pointer",zIndex:1001},containerRight:{flexShrink:0,display:"flex",flexDirection:"column",justifyContent:"stretch",alignItems:"center",backgroundColor:"#F7F9FA",width:"360px",height:"497px",borderRadius:"16px",overflow:"hidden"},rightQRcode:{flexGrow:0,marginTop:"48px",width:"160px",height:"160px",filter:"drop-shadow(0px 0px 8px rgba(0, 0, 0, 0.16))",borderRadius:"8px"},rightTitle:{fontWeight:600,fontSize:"22px",color:"#323C52",margin:"32px 0px 8px 0px"},stretchContainer:{display:"flex",flex:1,flexGrow:1},rightStep:{container:{display:"flex",flexDirection:"row",marginTop:"8px",alignSelf:"flex-start",marginLeft:"46px"},dot:{},desc:{fontSize:"16px",color:"#5D667B"},camera:{margin:"0px 8px"}},terms:{container:{display:"flex",flexDirection:"row",alignSelf:"stretch",justifyContent:"center",marginBottom:"16px"},text:{fontSize:"10px",color:"#5D667B"},link:{fontSize:"10px",color:"#4399F3",margin:"0px 4px",cursor:"pointer"}}},ae={container:{display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"center",alignSelf:"stretch",backgroundColor:"white"},logoIcon:{width:"30px",height:"30px",padding:"5px",backgroundColor:"white",filter:"drop-shadow(0px 0px 8px rgba(0, 0, 0, 0.16))",borderRadius:"6px"},textContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",flex:1},title:{fontWeight:600,fontSize:"14px",lineHeight:"150%",color:"#323C52"},desc:{fontWeight:500,fontSize:"10px",lineHeight:"150%",color:"#7B849B"},button:{width:"75px",height:"34px",background:"#1199FA",border:"0px solid white",borderRadius:"4px",fontWeight:600,fontSize:"12px",color:"#FFFFFF",marginRight:"12px",cursor:"pointer",zIndex:1001}},he={name:"Crypto.com DeFi Wallet",shortName:"DeFi Wallet",color:"rgb(17, 153, 250)",logo:"./logos/wallet-crypto-defi.png",universalLink:"https://wallet.crypto.com",deepLink:"cryptowallet:"},de=function(e,t){if(o.isIOS())window.open(e);else{var n=!1;window.addEventListener("blur",function(){n=!0}),window.addEventListener("visibilitychange",function(){document.hidden&&(n=!0)}),window.location.href=e,setTimeout(function(){n||window.open(t)},1500)}},fe={open:function(e,t,n){try{var r=K(e)+"&role=dapp";if(o.isIOS()){var i=o.formatIOSMobile(r,he);return o.saveMobileLinkInfo({name:"Crypto.com DeFi Wallet",href:i}),de(i,"https://bit.ly/3Bk4wzE"),Promise.resolve()}if(o.isAndroid()){var s=J(r,"cwe")+"&role=dapp";return o.saveMobileLinkInfo({name:"Unknown",href:s}),de(s,"https://bit.ly/3Bk4wzE"),Promise.resolve()}var c=document.body,u=document.createElement("div");u.id="cryptoconnect-extension",c.appendChild(u);var l=function(e,t){try{var n=e()}catch(e){return}return n&&n.then?n.then(void 0,function(){}):n}(function(){return Promise.resolve(new Promise(function(e){return w.default.toDataURL(r,function(t,n){return e(n)})})).then(function(e){var n=ne(pe,{qrUrl:e});c.appendChild(n);var r=function e(){var t,r;null==(t=n.parentElement)||t.removeChild(n),null==(r=u.parentElement)||r.removeChild(u),window.removeEventListener("InstallExtensionQRCodeModal_Event_close",e)};window.addEventListener("InstallExtensionQRCodeModal_Event_close",r),n.onclick=function(){t(),r()}})});return Promise.resolve(l&&l.then?l.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},close:function(){window.dispatchEvent(new Event("InstallExtensionQRCodeModal_Event_close"))}},pe=function(e){var t=e.qrUrl;return ne("div",{style:le.overlay},ne("div",{style:le.container,onClick:function(e){return null==e?void 0:e.stopPropagation()}},ne("div",{style:le.containerLeft},ne("div",{style:le.header},ne(oe,null),ne("div",{style:le.headerText},"crypto.com"),ne("div",{style:le.headerTextDivide}),ne("div",{style:le.headerText},"WALLET EXTENSION")),ne("div",{style:le.title},"Access DApps on desktop by connecting DeFi Wallet to Wallet Extension"),ne("div",{style:le.feature},ne(ce,null),ne("div",{style:le.featureText},"Stable connection to DApps")),ne("div",{style:le.feature},ne(ue,null),ne("div",{style:le.featureText},"Secure signing via DeFi Wallet")),ne("div",{style:le.feature},ne(se,null),ne("div",{style:le.featureText},"Smooth App navigation with DApp connection")),ne("button",{style:le.installButton,onClick:function(){window.open("https://wallet.crypto.com/api/v1/extension/install")}},"Install DeFi Wallet Extension")),ne("div",{style:le.containerRight},ne("img",{style:le.rightQRcode,src:t,alt:"qrcode"}),ne("span",{style:le.rightTitle},"Scan to Connect"),ne("div",{style:le.rightStep.container},ne("div",{style:le.rightStep.desc},"• Open DeFi Wallet Mobile App")),ne("div",{style:le.rightStep.container},ne("div",{style:le.rightStep.desc},"• Tap"),ne(ie,{style:le.rightStep.camera}),ne("div",{style:le.rightStep.desc},"to switch on the camera")),ne("div",{style:le.rightStep.container},ne("div",{style:le.rightStep.desc},"• Scan the QR code above")),ne("div",{style:le.stretchContainer}),ne("div",{style:le.terms.container},ne("div",{style:le.terms.text},"Crypto.com DeFi Wallet "),ne("div",{style:le.terms.link,onClick:function(){window.open("https://crypto.com/document/ncw_tnc")}},"Terms & Conditions"),ne("div",{style:le.terms.text},"and"),ne("div",{style:le.terms.link,onClick:function(){window.open("https://crypto.com/privacy/ncw")}},"Privacy Notice")),ne(ve,{onDownloadClick:function(){window.open("https://bit.ly/3Bk4wzE")}}))))},ve=function(e){var t=e.onDownloadClick;return ne("div",{style:ae.container},ne(re,null),ne("div",{style:ae.textContainer},ne("div",{style:ae.title},"Crypto.com DeFi Wallet"),ne("div",{style:ae.desc},"Your Keys, Your Crypto.")),ne("button",{style:ae.button,onClick:t},"Download"))},ge=null;try{ge=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function me(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function ye(e){return!0===(e&&e.__isLong__)}Object.defineProperty(me.prototype,"__isLong__",{value:!0}),me.isLong=ye;var we={},xe={};function be(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=xe[e])?r:(n=Ee(e,(0|e)<0?-1:0,!0),i&&(xe[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=we[e])?r:(n=Ee(e,e<0?-1:0,!1),i&&(we[e]=n),n)}function Ce(e,t){if(isNaN(e))return t?je:Oe;if(t){if(e<0)return je;if(e>=Se)return Ue}else{if(e<=-ke)return Be;if(e+1>=ke)return Ae}return e<0?Ce(-e,t).neg():Ee(e%Le|0,e/Le|0,t)}function Ee(e,t,n){return new me(e,t,n)}me.fromInt=be,me.fromNumber=Ce,me.fromBits=Ee;var _e=Math.pow;function Ie(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return Oe;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return Ie(e.substring(1),t,n).neg();for(var i=Ce(_e(n,8)),o=Oe,s=0;s<e.length;s+=8){var c=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+c),n);if(c<8){var l=Ce(_e(n,c));o=o.mul(l).add(Ce(u))}else o=(o=o.mul(i)).add(Ce(u))}return o.unsigned=t,o}function Pe(e,t){return"number"==typeof e?Ce(e,t):"string"==typeof e?Ie(e,t):Ee(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}me.fromString=Ie,me.fromValue=Pe;var Le=4294967296,Se=Le*Le,ke=Se/2,Fe=be(1<<24),Oe=be(0);me.ZERO=Oe;var je=be(0,!0);me.UZERO=je;var Re=be(1);me.ONE=Re;var Te=be(1,!0);me.UONE=Te;var De=be(-1);me.NEG_ONE=De;var Ae=Ee(-1,2147483647,!1);me.MAX_VALUE=Ae;var Ue=Ee(-1,-1,!0);me.MAX_UNSIGNED_VALUE=Ue;var Be=Ee(0,-2147483648,!1);me.MIN_VALUE=Be;var Ne=me.prototype;Ne.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ne.toNumber=function(){return this.unsigned?(this.high>>>0)*Le+(this.low>>>0):this.high*Le+(this.low>>>0)},Ne.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Be)){var t=Ce(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=Ce(_e(e,6),this.unsigned),o=this,s="";;){var c=o.div(i),u=(o.sub(c.mul(i)).toInt()>>>0).toString(e);if((o=c).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},Ne.getHighBits=function(){return this.high},Ne.getHighBitsUnsigned=function(){return this.high>>>0},Ne.getLowBits=function(){return this.low},Ne.getLowBitsUnsigned=function(){return this.low>>>0},Ne.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Be)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},Ne.isZero=function(){return 0===this.high&&0===this.low},Ne.eqz=Ne.isZero,Ne.isNegative=function(){return!this.unsigned&&this.high<0},Ne.isPositive=function(){return this.unsigned||this.high>=0},Ne.isOdd=function(){return 1==(1&this.low)},Ne.isEven=function(){return 0==(1&this.low)},Ne.equals=function(e){return ye(e)||(e=Pe(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},Ne.eq=Ne.equals,Ne.notEquals=function(e){return!this.eq(e)},Ne.neq=Ne.notEquals,Ne.ne=Ne.notEquals,Ne.lessThan=function(e){return this.comp(e)<0},Ne.lt=Ne.lessThan,Ne.lessThanOrEqual=function(e){return this.comp(e)<=0},Ne.lte=Ne.lessThanOrEqual,Ne.le=Ne.lessThanOrEqual,Ne.greaterThan=function(e){return this.comp(e)>0},Ne.gt=Ne.greaterThan,Ne.greaterThanOrEqual=function(e){return this.comp(e)>=0},Ne.gte=Ne.greaterThanOrEqual,Ne.ge=Ne.greaterThanOrEqual,Ne.compare=function(e){if(ye(e)||(e=Pe(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},Ne.comp=Ne.compare,Ne.negate=function(){return!this.unsigned&&this.eq(Be)?Be:this.not().add(Re)},Ne.neg=Ne.negate,Ne.add=function(e){ye(e)||(e=Pe(e));var t=0,n=0,r=0,i=0;return r+=(i+=(65535&this.low)+(65535&e.low))>>>16,n+=(r+=(this.low>>>16)+(e.low>>>16))>>>16,t+=(n+=(65535&this.high)+(65535&e.high))>>>16,t+=(this.high>>>16)+(e.high>>>16),Ee((r&=65535)<<16|(i&=65535),(t&=65535)<<16|(n&=65535),this.unsigned)},Ne.subtract=function(e){return ye(e)||(e=Pe(e)),this.add(e.neg())},Ne.sub=Ne.subtract,Ne.multiply=function(e){if(this.isZero())return Oe;if(ye(e)||(e=Pe(e)),ge)return Ee(ge.mul(this.low,this.high,e.low,e.high),ge.get_high(),this.unsigned);if(e.isZero())return Oe;if(this.eq(Be))return e.isOdd()?Be:Oe;if(e.eq(Be))return this.isOdd()?Be:Oe;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Fe)&&e.lt(Fe))return Ce(this.toNumber()*e.toNumber(),this.unsigned);var t=65535&this.high,n=this.low>>>16,r=65535&this.low,i=65535&e.high,o=e.low>>>16,s=65535&e.low,c=0,u=0,l=0,a=0;return l+=(a+=r*s)>>>16,u+=(l+=n*s)>>>16,l&=65535,u+=(l+=r*o)>>>16,c+=(u+=t*s)>>>16,u&=65535,c+=(u+=n*o)>>>16,u&=65535,c+=(u+=r*i)>>>16,c+=(this.high>>>16)*s+t*o+n*i+r*(e.high>>>16),Ee((l&=65535)<<16|(a&=65535),(c&=65535)<<16|(u&=65535),this.unsigned)},Ne.mul=Ne.multiply,Ne.divide=function(e){if(ye(e)||(e=Pe(e)),e.isZero())throw Error("division by zero");var t,n,r;if(ge)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?Ee((this.unsigned?ge.div_u:ge.div_s)(this.low,this.high,e.low,e.high),ge.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?je:Oe;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return je;if(e.gt(this.shru(1)))return Te;r=je}else{if(this.eq(Be))return e.eq(Re)||e.eq(De)?Be:e.eq(Be)?Re:(t=this.shr(1).div(e).shl(1)).eq(Oe)?e.isNegative()?Re:De:(n=this.sub(e.mul(t)),r=t.add(n.div(e)));if(e.eq(Be))return this.unsigned?je:Oe;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=Oe}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(t)/Math.LN2),o=i<=48?1:_e(2,i-48),s=Ce(t),c=s.mul(e);c.isNegative()||c.gt(n);)c=(s=Ce(t-=o,this.unsigned)).mul(e);s.isZero()&&(s=Re),r=r.add(s),n=n.sub(c)}return r},Ne.div=Ne.divide,Ne.modulo=function(e){return ye(e)||(e=Pe(e)),ge?Ee((this.unsigned?ge.rem_u:ge.rem_s)(this.low,this.high,e.low,e.high),ge.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},Ne.mod=Ne.modulo,Ne.rem=Ne.modulo,Ne.not=function(){return Ee(~this.low,~this.high,this.unsigned)},Ne.and=function(e){return ye(e)||(e=Pe(e)),Ee(this.low&e.low,this.high&e.high,this.unsigned)},Ne.or=function(e){return ye(e)||(e=Pe(e)),Ee(this.low|e.low,this.high|e.high,this.unsigned)},Ne.xor=function(e){return ye(e)||(e=Pe(e)),Ee(this.low^e.low,this.high^e.high,this.unsigned)},Ne.shiftLeft=function(e){return ye(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?Ee(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Ee(0,this.low<<e-32,this.unsigned)},Ne.shl=Ne.shiftLeft,Ne.shiftRight=function(e){return ye(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?Ee(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Ee(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},Ne.shr=Ne.shiftRight,Ne.shiftRightUnsigned=function(e){if(ye(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?Ee(this.low>>>e|t<<32-e,t>>>e,this.unsigned):Ee(32===e?t:t>>>e-32,0,this.unsigned)},Ne.shru=Ne.shiftRightUnsigned,Ne.shr_u=Ne.shiftRightUnsigned,Ne.toSigned=function(){return this.unsigned?Ee(this.low,this.high,!1):this},Ne.toUnsigned=function(){return this.unsigned?this:Ee(this.low,this.high,!0)},Ne.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},Ne.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},Ne.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},me.fromBytes=function(e,t,n){return n?me.fromBytesLE(e,t):me.fromBytesBE(e,t)},me.fromBytesLE=function(e,t){return new me(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},me.fromBytesBE=function(e,t){return new me(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var Me,ze=function e(t){var n={};if(t instanceof Array)return t.map(function(t){return e(t)});if(t&&"string"==typeof t.typeUrl&&"string"==typeof t.value)try{var r=function(e){var t,n=null==(t=h.defaultRegistryTypes.find(function(t){return t[0]===e}))?void 0:t[1];if(n&&a.isTsProtoGeneratedType(n))return n;throw new Error("can not find ProtoGeneratedType for typeUrl:"+e)}(t.typeUrl);return{typeUrl:t.typeUrl,value:e(r.toJSON(r.decode(u.fromBase64(t.value))))}}catch(e){return t}for(var i in t){var o=t[i];n[i]="object"!=typeof o?o:e(o)}return n},qe=/*#__PURE__*/function(){function e(e){var t=this,n=this;this.isDeFiCosmosProvider=!0,this.client=void 0,this.config=void 0,this.sendTransaction=function(e){try{var n=t.client.connector.session;return Promise.resolve(t.client.connector.sendJSONRequest({method:"cosmos_sendTransaction",params:[e],session:{chainId:n.chainId,chainType:n.chainType,account:t.account}},{forcePushNotification:!0}))}catch(e){return Promise.reject(e)}},this.request=function(e){return Promise.resolve(void 0)},this.send=function(e,t){return Promise.resolve(void 0)},this.stop=function(){return Promise.resolve()},this.close=function(){try{return Promise.resolve(n.client.connector.killSession()).then(function(){return Promise.resolve(n.stop()).then(function(){})})}catch(e){return Promise.reject(e)}};var r=e.client;this.config=e,this.client=r}return e.prototype.enable=function(){try{var e=this;return e.client.connector.connected?Promise.resolve(e.client.connector.accounts):Promise.resolve(e.client.connector.connect({chainId:e.config.supportedChainIds[0],chainType:"cosmos"})).then(function(){return e.client.connector.accounts})}catch(e){return Promise.reject(e)}},b(e,[{key:"account",get:function(){var e;return null!=(e=this.client.connector.session.accounts[0])?e:""}},{key:"currentAccountInfo",get:function(){var e=this,t=Object.entries(this.client.connector.session.wallets[0].addresses).find(function(t){return t[1].address==e.account});return null==t?void 0:t[1]}},{key:"signer",get:function(){var e,t=this,n=this.currentAccountInfo;if(!n||!n.pubkey)throw new Error("can not get the OfflineSigner, there is an unsupported address type");var r={address:n.address,algo:"secp256k1",pubkey:u.fromBase64(null!=(e=n.pubkey)?e:"")};return{getAccounts:function(){return Promise.resolve([r])},signDirect:function(e,n){try{return Promise.resolve(t.sendTransaction(function(e,t){var n=l.TxBody.decode(t.bodyBytes),r=l.AuthInfo.decode(t.authInfoBytes);return{signerAddress:e,signDoc:{chainId:t.chainId,accountNumber:t.accountNumber.toString(),body:ze(l.TxBody.toJSON(n)),authInfo:ze(l.AuthInfo.toJSON(r))}}}(e,n))).then(function(e){var t=l.TxRaw.decode(u.fromBase64(e)),i=u.toBase64(t.signatures[0]);return{signed:{bodyBytes:t.bodyBytes,authInfoBytes:t.authInfoBytes,chainId:n.chainId,accountNumber:n.accountNumber},signature:{pub_key:{type:c.pubkeyType.secp256k1,value:r.pubkey},signature:i}}})}catch(e){return Promise.reject(e)}}}}}]),e}(),We=function(t){var n=this,r=t.key,i=void 0===r?"DeFiLink_session_storage_dapp":r,o=t.supportedChainIds;this.key=void 0,this.supportedChainIds=void 0,this.getSession=function(){var t,r=e.getLocal(n.key);return(t=r)&&void 0!==t.bridge&&void 0!==t.chainId&&void 0!==t.chainType&&void 0!==t.wallets&&void 0!==t.wallets&&void 0!==t.wallets[0]&&void 0!==t.wallets[0].addresses&&void 0!==t.wallets[0].addresses.eth&&void 0!==t.accounts&&t.accounts.length>0&&n.supportedChainIds.includes(r.chainId)?r:null},this.setSession=function(t){return n.supportedChainIds.includes(t.chainId)&&e.setLocal(n.key,t),t},this.removeSession=function(){e.removeLocal(n.key)},this.key=i,this.supportedChainIds=o};exports.DeFiConnectorUpdateEvent=void 0,(Me=exports.DeFiConnectorUpdateEvent||(exports.DeFiConnectorUpdateEvent={})).Update="DeFiConnectorUpdate",Me.Error="DeFiConnectorError",Me.Deactivate="DeFiConnectorDeactivate";var Ve=function(e){return"eth"===e||"cosmos"===e?e:"eth"},Ge=/*#__PURE__*/function(e){function t(t){var n;return(n=e.call(this)||this).config=void 0,n.eventEmitters=[],n.connectorClient=void 0,n._provider=void 0,n.chainId="",n.chainType="eth",n.accounts=[],n.config=t,n}E(t,e);var n=t.prototype;return n.getProvider=function(){try{return Promise.resolve(this.provider)}catch(e){return Promise.reject(e)}},n.getChainId=function(){try{return Promise.resolve(this.chainId)}catch(e){return Promise.reject(e)}},n.getAccount=function(){try{return Promise.resolve(this.accounts[0])}catch(e){return Promise.reject(e)}},n.generateClient=function(){var e,t=this;return Promise.resolve(function(e){void 0===e&&(e=0);try{return Promise.resolve(new Promise(function(t){!function n(){e>0&&"function"!=typeof window.deficonnectClientGenerator?setTimeout(function(){try{return--e,n(),Promise.resolve()}catch(e){return Promise.reject(e)}},100):t(!0)}()}))}catch(e){return Promise.reject(e)}}(10)).then(function(){function n(){return e.connector.on("disconnect",function(){t.emitDeactivate()}),e.connector.on("session_update",function(n,r){try{if(n)return t.emitError(new Error(n.message)),Promise.resolve();if(null==r||!r.params[0])return Promise.resolve();var i=r.params,o=(i=void 0===i?[]:i)[0],s=o.chainId,c=o.chainType,u=o.accounts;return s&&c&&u?(t.chainId=s,t.chainType=c,t.accounts=u,Promise.resolve(t.generateProvider({chainId:s,chainType:c,connectorClient:e,config:t.config})).then(function(e){var n;return t.provider=e,Promise.resolve(null==(n=t.provider)?void 0:n.enable()).then(function(){t.emitUpdate({account:u[0],chainType:c,chainId:s,provider:t.provider})})})):Promise.resolve()}catch(e){return Promise.reject(e)}}),e}var r=function(){if("function"==typeof window.deficonnectClientGenerator)return Promise.resolve(window.deficonnectClientGenerator(t.config)).then(function(t){void 0===(e=t).clearSessionStorage&&(e.clearSessionStorage=X.prototype.clearSessionStorage)});var n,r={bridge:Q(null!=(n=t.config.bridge)?n:"https://wallet-connect.crypto.com/api/v1/ncwconnect/relay/ws",{role:"dapp",dapp_name:t.config.name}),qrcodeModal:fe},i=new We({supportedChainIds:t._supportedChainIds});e=new X({connectorOpts:r,sessionStorage:i})}();return r&&r.then?r.then(n):n()})},n.generateProvider=function(e){try{var t,n=function(e){if(t)return e;throw new Error("must provider eth or cosmos config")},r=this,i=e.chainId,o=e.chainType,s=e.connectorClient,c=function(){if("function"==typeof window.deficonnectProviderGenerator)return Promise.resolve(window.deficonnectProviderGenerator({chainId:i,chainType:o,config:r.config,connectorClient:s})).then(function(e){return t=1,e});if("eth"===o){var e=new v.default(C({},r.config.eth,{connector:s.connector}));return t=1,e}if("cosmos"===o){var n,c,u=new qe({supportedChainIds:null!=(n=null==(c=r.config.cosmos)?void 0:c.supportedChainIds)?n:[],client:s});return t=1,u}}();return Promise.resolve(c&&c.then?c.then(n):n(c))}catch(e){return Promise.reject(e)}},n.activate=function(){try{var e=this;return Promise.resolve(function(t,n){try{var r=function(){function t(){if(0==e.config.supprtedChainTypes.length)throw new Error("must provider supprtedNetworks");var t=e.config.supprtedChainTypes[0],r="1";if("eth"===t){var i;if(null==e.config.eth)throw new Error("must provider eth config");r=""+(null!=(i=e.config.eth.supportedChainIds[0])?i:1)}if("cosmos"===t){var o;if(null==e.config.cosmos)throw new Error("must provider cosmos config");r=""+(null!=(o=e.config.cosmos.supportedChainIds[0])?o:1)}return Promise.resolve(n.connector.connect({chainId:r,chainType:t})).then(function(t){var r=t.chainId,i=t.chainType,o=t.accounts;return e.chainId=r,e.chainType=Ve(i),e.accounts=o,Promise.resolve(e.generateProvider({chainId:r,chainType:i,connectorClient:n,config:e.config})).then(function(t){var s;return e.provider=t,Promise.resolve(null==(s=e.provider)?void 0:s.enable()).then(function(){return e.connectorClient=n,{account:o[0],chainType:Ve(i),chainId:r,provider:e.provider}})})})}var n=e.connectorClient,r=function(){if(!n)return Promise.resolve(e.generateClient()).then(function(e){n=e})}();return r&&r.then?r.then(t):t()}()}catch(e){return n(e)}return r&&r.then?r.then(void 0,n):r}(0,function(e){throw e}))}catch(e){return Promise.reject(e)}},n.getAddressList=function(e){var t=this.connectorClient;if(!t)throw new Error("you has not active this connector");return e.map(function(e){return{type:e,address:t.connector.session.wallets[0].addresses[e].address}})},n.close=function(){try{var e,t=this;null==(e=t.connectorClient)||e.clearSessionStorage();var n=function(e,n){try{var r=Promise.resolve(null==(i=t.provider)?void 0:i.close()).then(function(){})}catch(e){return n(!0,e)}var i;return r&&r.then?r.then(n.bind(null,!1),n.bind(null,!0)):n(!1,r)}(0,function(e,n){var r;return Promise.resolve(null==(r=t.connectorClient)?void 0:r.connector.killSession()).then(function(){if(e)throw n;return n})});return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},n.deactivate=function(){try{var e,t,n,r,i=this;return null==(e=i.connectorClient)||e.clearSessionStorage(),"function"==typeof(null==(t=i.provider)?void 0:t.stop)&&(null==(r=i.provider)||r.stop()),Promise.resolve(null==(n=i.connectorClient)?void 0:n.connector.killSession()).then(function(){i.emitDeactivate()})}catch(e){return Promise.reject(e)}},n.onEvent=function(e,t){var n=this,r={event:e,callback:t};return this.eventEmitters.push(r),function(){n.eventEmitters=n.eventEmitters.filter(function(e){return e!==r})}},n.emitUpdate=function(e){this.eventEmitters.forEach(function(t){t.event===exports.DeFiConnectorUpdateEvent.Update&&t.callback(e,void 0)})},n.emitError=function(e){this.eventEmitters.forEach(function(t){t.event===exports.DeFiConnectorUpdateEvent.Error&&t.callback(void 0,e)})},n.emitDeactivate=function(){this.eventEmitters.forEach(function(e){e.event===exports.DeFiConnectorUpdateEvent.Deactivate&&e.callback(void 0,void 0)}),this.connectorClient=void 0},b(t,[{key:"_supportedChainIds",get:function(){var e,t,n,r,i=null!=(e=null==(t=this.config.eth)?void 0:t.supportedChainIds.map(function(e){return e.toString()}))?e:[],o=null!=(n=null==(r=this.config.cosmos)?void 0:r.supportedChainIds)?n:[];return i.concat(o)}},{key:"provider",get:function(){return this._provider},set:function(e){this._provider=e}}]),t}(H),He=/*#__PURE__*/function(e){function t(){var t;return(t=e.call(this)||this).name=t.constructor.name,t.message="The user rejected the request.",t}return E(t,e),t}(/*#__PURE__*/S(Error));function Ze(e){try{var t=parseInt(null!=e?e:"0");return isNaN(t)?0:t}catch(e){return 0}}var Qe=/*#__PURE__*/function(t){function n(n){var r,i,o,s,c,u,l;(s=t.call(this,{supportedChainIds:(c=n,u=c.supportedChainIds,l=c.rpc,u||(l?Object.keys(l).map(function(e){return Number(e)}):void 0))})||this).defiConnector=void 0,s._injectConnect=void 0;var a=e.getClientMeta()||void 0;return s.defiConnector=new Ge({name:null!=(r=null==a?void 0:a.name)?r:"",supprtedChainTypes:["eth"],bridge:n.bridge,eth:n}),s.defiConnector.onEvent(exports.DeFiConnectorUpdateEvent.Update,function(e){if(e){var t=e.provider,n=e.account;s.emitUpdate({chainId:Ze(e.chainId),provider:t,account:n})}}),s.defiConnector.onEvent(exports.DeFiConnectorUpdateEvent.Deactivate,function(){s.emitDeactivate()}),null!=(i=navigator)&&null!=(o=i.userAgent)&&o.includes("DeFiWallet")&&window.ethereum&&(s._injectConnect=new d.InjectedConnector({supportedChainIds:n.supportedChainIds})),s}E(n,t);var r=n.prototype;return r.activate=function(){try{var e,t=function(t){return e?t:Promise.resolve(n.defiConnector.activate()).then(function(e){var t=e.provider,n=e.account;return{chainId:Ze(e.chainId),provider:t,account:n}})},n=this,r=function(){if(n._injectConnect)return Promise.resolve(n._injectConnect.activate()).then(function(t){return e=1,t})}();return Promise.resolve(r&&r.then?r.then(t):t(r))}catch(e){return Promise.reject(e)}},r.getProvider=function(){try{var e,t=function(t){return e?t:n.defiConnector.provider},n=this,r=function(){if(n._injectConnect)return Promise.resolve(n._injectConnect.getProvider()).then(function(t){return e=1,t})}();return Promise.resolve(r&&r.then?r.then(t):t(r))}catch(e){return Promise.reject(e)}},r.getChainId=function(){try{var e,t=function(t){return e?t:Ze(n.defiConnector.chainId)},n=this,r=function(){if(n._injectConnect)return Promise.resolve(n._injectConnect.getChainId()).then(function(t){return e=1,t})}();return Promise.resolve(r&&r.then?r.then(t):t(r))}catch(e){return Promise.reject(e)}},r.getAccount=function(){try{var e,t=function(t){return e?t:Promise.resolve(n.getProvider()).then(function(e){return e.send("eth_accounts").then(function(e){return e[0]})})},n=this,r=function(){if(n._injectConnect)return Promise.resolve(n._injectConnect.getAccount()).then(function(t){return e=1,t})}();return Promise.resolve(r&&r.then?r.then(t):t(r))}catch(e){return Promise.reject(e)}},r.close=function(){return this.defiConnector.close()},r.deactivate=function(){if(this._injectConnect)return this._injectConnect.deactivate();this.defiConnector.deactivate()},n}(H);exports.DeFiConnector=Ge,exports.DeFiConnectorClient=X,exports.DeFiCosmosProvider=qe,exports.DeFiWeb3Connector=Qe,exports.URI_AVAILABLE="URI_AVAILABLE",exports.UserRejectedRequestError=He,exports.addUrlParams=Q,exports.formatToCWEURI=K,exports.formatToWCURI=function(e){return J(e,"wc")},exports.formatUriAddUrlParams=function(t,n){var r=e.parseWalletConnectUri(t),i=encodeURIComponent(Q(decodeURIComponent(r.bridge),n));return r.protocol+":"+r.handshakeTopic+"@"+r.version+"?bridge="+i+"&key="+r.key},exports.isDeFiCosmosProvider=function(e){return void 0!==e.isDeFiCosmosProvider},exports.limitWords=function(e,t){void 0===t&&(t=20);var n=e;return n.substr(0,t)+(n.length>t?"...":"")},exports.removeAllUrlParams=Z,exports.replaceUriProtocol=J;
//# sourceMappingURL=index.js.map
