{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decodeCosmosSdkDecFromProto = exports.longify = exports.createProtobufRpcClient = exports.createPagination = exports.toAccAddress = void 0;\n\nconst encoding_1 = require(\"@cosmjs/encoding\");\n\nconst math_1 = require(\"@cosmjs/math\");\n\nconst pagination_1 = require(\"cosmjs-types/cosmos/base/query/v1beta1/pagination\");\n\nconst long_1 = __importDefault(require(\"long\"));\n/**\n * Takes a bech32 encoded address and returns the data part. The prefix is ignored and discarded.\n * This is called AccAddress in Cosmos SDK, which is basically an alias for raw binary data.\n * The result is typically 20 bytes long but not restricted to that.\n */\n\n\nfunction toAccAddress(address) {\n  return (0, encoding_1.fromBech32)(address).data;\n}\n\nexports.toAccAddress = toAccAddress;\n/**\n * If paginationKey is set, return a `PageRequest` with the given key.\n * If paginationKey is unset, return `undefined`.\n *\n * Use this with a query response's pagination next key to\n * request the next page.\n */\n\nfunction createPagination(paginationKey) {\n  return paginationKey ? pagination_1.PageRequest.fromPartial({\n    key: paginationKey,\n    offset: long_1.default.fromNumber(0, true),\n    limit: long_1.default.fromNumber(0, true),\n    countTotal: false\n  }) : undefined;\n}\n\nexports.createPagination = createPagination;\n\nfunction createProtobufRpcClient(base) {\n  return {\n    request: (service, method, data) => {\n      const path = `/${service}/${method}`;\n      return base.queryUnverified(path, data);\n    }\n  };\n}\n\nexports.createProtobufRpcClient = createProtobufRpcClient;\n/**\n * Takes a uint64 value as string, number, Long or Uint64 and returns an unsigned Long instance\n * of it.\n */\n\nfunction longify(value) {\n  const checkedValue = math_1.Uint64.fromString(value.toString());\n  return long_1.default.fromBytesBE([...checkedValue.toBytesBigEndian()], true);\n}\n\nexports.longify = longify;\n/**\n * Takes a string or binary encoded `github.com/cosmos/cosmos-sdk/types.Dec` from the\n * protobuf API and converts it into a `Decimal` with 18 fractional digits.\n *\n * See https://github.com/cosmos/cosmos-sdk/issues/10863 for more context why this is needed.\n */\n\nfunction decodeCosmosSdkDecFromProto(input) {\n  const asString = typeof input === \"string\" ? input : (0, encoding_1.fromAscii)(input);\n  return math_1.Decimal.fromAtomics(asString, 18);\n}\n\nexports.decodeCosmosSdkDecFromProto = decodeCosmosSdkDecFromProto;","map":{"version":3,"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;AAIA;;;;;;;AAKA,SAAgBA,YAAhB,CAA6BC,OAA7B,EAA4C;EAC1C,OAAO,2BAAWA,OAAX,EAAoBC,IAA3B;AACD;;AAFDC;AAIA;;;;;;;;AAOA,SAAgBC,gBAAhB,CAAiCC,aAAjC,EAA2D;EACzD,OAAOA,aAAa,GAChBC,yBAAYC,WAAZ,CAAwB;IACtBC,GAAG,EAAEH,aADiB;IAEtBI,MAAM,EAAEC,eAAKC,UAAL,CAAgB,CAAhB,EAAmB,IAAnB,CAFc;IAGtBC,KAAK,EAAEF,eAAKC,UAAL,CAAgB,CAAhB,EAAmB,IAAnB,CAHe;IAItBE,UAAU,EAAE;EAJU,CAAxB,CADgB,GAOhBC,SAPJ;AAQD;;AATDX;;AAeA,SAAgBY,uBAAhB,CAAwCC,IAAxC,EAAyD;EACvD,OAAO;IACLC,OAAO,EAAE,CAACC,OAAD,EAAkBC,MAAlB,EAAkCjB,IAAlC,KAA2E;MAClF,MAAMkB,IAAI,GAAG,IAAIF,OAAO,IAAIC,MAAM,EAAlC;MACA,OAAOH,IAAI,CAACK,eAAL,CAAqBD,IAArB,EAA2BlB,IAA3B,CAAP;IACD;EAJI,CAAP;AAMD;;AAPDC;AASA;;;;;AAIA,SAAgBmB,OAAhB,CAAwBC,KAAxB,EAA8D;EAC5D,MAAMC,YAAY,GAAGC,cAAOC,UAAP,CAAkBH,KAAK,CAACI,QAAN,EAAlB,CAArB;EACA,OAAOjB,eAAKkB,WAAL,CAAiB,CAAC,GAAGJ,YAAY,CAACK,gBAAb,EAAJ,CAAjB,EAAuD,IAAvD,CAAP;AACD;;AAHD1B;AAKA;;;;;;;AAMA,SAAgB2B,2BAAhB,CAA4CC,KAA5C,EAAsE;EACpE,MAAMC,QAAQ,GAAG,OAAOD,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoC,0BAAUA,KAAV,CAArD;EACA,OAAON,eAAQQ,WAAR,CAAoBD,QAApB,EAA8B,EAA9B,CAAP;AACD;;AAHD7B","names":["toAccAddress","address","data","exports","createPagination","paginationKey","pagination_1","fromPartial","key","offset","long_1","fromNumber","limit","countTotal","undefined","createProtobufRpcClient","base","request","service","method","path","queryUnverified","longify","value","checkedValue","math_1","fromString","toString","fromBytesBE","toBytesBigEndian","decodeCosmosSdkDecFromProto","input","asString","fromAtomics"],"sourceRoot":"","sources":["../../src/queryclient/utils.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}