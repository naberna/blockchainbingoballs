{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Params = void 0;\n/* eslint-disable @typescript-eslint/naming-convention */\n\nconst encoding_1 = require(\"@cosmjs/encoding\");\n\nconst jsonrpc_1 = require(\"../../jsonrpc\");\n\nconst encodings_1 = require(\"../encodings\");\n\nconst requests = __importStar(require(\"../requests\"));\n\nfunction encodeHeightParam(param) {\n  return {\n    height: (0, encodings_1.may)(encodings_1.Integer.encode, param.height)\n  };\n}\n\nfunction encodeBlockchainRequestParams(param) {\n  return {\n    minHeight: (0, encodings_1.may)(encodings_1.Integer.encode, param.minHeight),\n    maxHeight: (0, encodings_1.may)(encodings_1.Integer.encode, param.maxHeight)\n  };\n}\n\nfunction encodeBlockSearchParams(params) {\n  return {\n    query: params.query,\n    page: (0, encodings_1.may)(encodings_1.Integer.encode, params.page),\n    per_page: (0, encodings_1.may)(encodings_1.Integer.encode, params.per_page),\n    order_by: params.order_by\n  };\n}\n\nfunction encodeAbciQueryParams(params) {\n  return {\n    path: (0, encodings_1.assertNotEmpty)(params.path),\n    data: (0, encoding_1.toHex)(params.data),\n    height: (0, encodings_1.may)(encodings_1.Integer.encode, params.height),\n    prove: params.prove\n  };\n}\n\nfunction encodeBroadcastTxParams(params) {\n  return {\n    tx: (0, encoding_1.toBase64)((0, encodings_1.assertNotEmpty)(params.tx))\n  };\n}\n\nfunction encodeTxParams(params) {\n  return {\n    hash: (0, encoding_1.toBase64)((0, encodings_1.assertNotEmpty)(params.hash)),\n    prove: params.prove\n  };\n}\n\nfunction encodeTxSearchParams(params) {\n  return {\n    query: params.query,\n    prove: params.prove,\n    page: (0, encodings_1.may)(encodings_1.Integer.encode, params.page),\n    per_page: (0, encodings_1.may)(encodings_1.Integer.encode, params.per_page),\n    order_by: params.order_by\n  };\n}\n\nfunction encodeValidatorsParams(params) {\n  return {\n    height: (0, encodings_1.may)(encodings_1.Integer.encode, params.height),\n    page: (0, encodings_1.may)(encodings_1.Integer.encode, params.page),\n    per_page: (0, encodings_1.may)(encodings_1.Integer.encode, params.per_page)\n  };\n}\n\nclass Params {\n  static encodeAbciInfo(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method);\n  }\n\n  static encodeAbciQuery(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeAbciQueryParams(req.params));\n  }\n\n  static encodeBlock(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeHeightParam(req.params));\n  }\n\n  static encodeBlockchain(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeBlockchainRequestParams(req.params));\n  }\n\n  static encodeBlockResults(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeHeightParam(req.params));\n  }\n\n  static encodeBlockSearch(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeBlockSearchParams(req.params));\n  }\n\n  static encodeBroadcastTx(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeBroadcastTxParams(req.params));\n  }\n\n  static encodeCommit(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeHeightParam(req.params));\n  }\n\n  static encodeGenesis(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method);\n  }\n\n  static encodeHealth(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method);\n  }\n\n  static encodeNumUnconfirmedTxs(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method);\n  }\n\n  static encodeStatus(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method);\n  }\n\n  static encodeSubscribe(req) {\n    const eventTag = {\n      key: \"tm.event\",\n      value: req.query.type\n    };\n    const query = requests.buildQuery({\n      tags: [eventTag],\n      raw: req.query.raw\n    });\n    return (0, jsonrpc_1.createJsonRpcRequest)(\"subscribe\", {\n      query: query\n    });\n  }\n\n  static encodeTx(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeTxParams(req.params));\n  } // TODO: encode params for query string???\n\n\n  static encodeTxSearch(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeTxSearchParams(req.params));\n  }\n\n  static encodeValidators(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeValidatorsParams(req.params));\n  }\n\n}\n\nexports.Params = Params;","map":{"version":3,"mappings":"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","names":["encodeHeightParam","param","height","encodings_1","encode","encodeBlockchainRequestParams","minHeight","maxHeight","encodeBlockSearchParams","params","query","page","per_page","order_by","encodeAbciQueryParams","path","data","prove","encodeBroadcastTxParams","tx","encodeTxParams","hash","encodeTxSearchParams","encodeValidatorsParams","Params","encodeAbciInfo","req","method","encodeAbciQuery","encodeBlock","encodeBlockchain","encodeBlockResults","encodeBlockSearch","encodeBroadcastTx","encodeCommit","encodeGenesis","encodeHealth","encodeNumUnconfirmedTxs","encodeStatus","encodeSubscribe","eventTag","key","value","type","requests","buildQuery","tags","raw","encodeTx","encodeTxSearch","encodeValidators","exports"],"sourceRoot":"","sources":["../../../src/tendermint34/adaptor/requests.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}